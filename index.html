<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<title>анустон тест</title>

<html>
  <style type="text/css">
    * {
      margin:0;
    }
    .anusel {
      position: fixed;
      margin: 0;
      top: 1;
      left: 0;
      height: 100vh;
      width: 100vw;
      z-index: auto;
    }
    video#video {
      height: 100%;
      width: 100%;
      object-fit: cover;
    }
    video#video::-webkit-media-controls-enclosure {
      display:none !important;
  </style>
<body>
<!-- ТУТ BODY -->
<div id="overlay" class="overlay">
  <div id=button-prank class="overlay-button">
    <button>пранки</button>
  </div>
</div>
<div class="anusel">
  <video id="anusel" class="video" preload="auto" src="anusel.mp4" loop></video>
</div>
</body>
<script type="text/javascript">
  const video = document.getElementById("anusel");
  const overlay = document.getElementById("overlay");
  const prankButton = document.getElementById("button-prank");
  
  video.hidden = true;

  let hasClicked;
  
  window.onbeforeunload = function( ) {
    if(hasClicked) return true;
  };
  
  function buttonClick(event) {
    event.preventDefault();
    if(!hasClicked) hasClicked = true;
    overlay.hidden = true;
    video.hidden = false;
    video.play();
    videoClick();
  }
  
  function videoClick(event) {
    if(event) event.preventDefault();
    // if not fullscreen
    const { documentElement } = document;
    if(documentElement.requestFullscreen) documentElement.requestFullscreen();
    else if(documentElement.mozRequestFullScreen) documentElement.mozRequestFullScreen();
    else if(documentElement.webkitRequestFullscreen) documentElement.webkitRequestFullscreen();
    else if(documentElement.msRequestFullscreen) documentElement.msRequestFullscreen();
  }
  
  prankButton.addEventListener("click", buttonClick);
  video.addEventListener("click", videoClick);
</script>
</html>